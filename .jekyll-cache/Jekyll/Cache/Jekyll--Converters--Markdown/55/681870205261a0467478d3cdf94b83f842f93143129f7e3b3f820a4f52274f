I"Î<blockquote>
  <p>Docker å¸¸ç”¨å‘½ä»¤ä»¥åŠè„šæœ¬</p>
</blockquote>

<p><img src="/assets/img/docker/docker_flow.png" alt="img" /></p>

<h3 id="dockerfile">Dockerfile</h3>

<pre><code class="language-dockerfile"># åŸºç¡€é•œåƒã€æ¥æºï¼šå®˜ç½‘ https://hub.docker.com/ã€‘
FROM nginx:latest
# æŒ‡æ˜å®¹å™¨å·¥ä½œç›®å½•
WORKDIR /
# åœ¨å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤
RUN apt-get update
RUN apt-get install vim -y
# æš´éœ²å®¹å™¨ç«¯å£
EXPOSE 8080
# å®¹å™¨å¯åŠ¨è„šæœ¬
CMD /usr/sbin/nginx -g "daemon off;"
</code></pre>

<h3 id="ä»¥-dockerfile-æ„å»ºé•œåƒå¹¶å¯åŠ¨å®¹å™¨">ä»¥ Dockerfile æ„å»ºé•œåƒå¹¶å¯åŠ¨å®¹å™¨</h3>

<pre><code class="language-dockerfile"># image_name ï¼šè‡ªå®šä¹‰é•œåƒåç§°
# contaner_name : è‡ªå®šä¹‰å®¹å™¨åç§°
# 8080:8080 ï¼šå®¹å™¨æš´éœ²ç«¯å£ï¼šæœ¬åœ°æ˜ å°„ç«¯å£
&gt; docker build -t image_name .
&gt; docker run --name contaner_name -p 8080:8080 -d image_name
</code></pre>

<h3 id="è¿›å…¥å®¹å™¨">è¿›å…¥å®¹å™¨</h3>

<pre><code class="language-dockerfile">#exec ï¼šåœ¨è¿è¡Œçš„å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤
#-d :åˆ†ç¦»æ¨¡å¼: åœ¨åå°è¿è¡Œ
#-i :å³ä½¿æ²¡æœ‰é™„åŠ ä¹Ÿä¿æŒSTDIN æ‰“å¼€
#-t :åˆ†é…ä¸€ä¸ªä¼ªç»ˆç«¯<br />
&gt; docker exec -ti container_name /bin/bash
</code></pre>

<h3 id="å°†å®¹å™¨å˜æˆé•œåƒ-screenshot">å°†å®¹å™¨å˜æˆé•œåƒ screenshot</h3>

<pre><code class="language-dockerfile">#-a :æäº¤çš„é•œåƒä½œè€…ï¼›
#-c :ä½¿ç”¨DockerfileæŒ‡ä»¤æ¥åˆ›å»ºé•œåƒï¼›
#-m :æäº¤æ—¶çš„è¯´æ˜æ–‡å­—ï¼›
#-p :åœ¨commitæ—¶ï¼Œå°†å®¹å™¨æš‚åœã€‚
# docker commit -m  "æäº¤è¯´æ˜æ–‡å­—" -a "ä½œè€…" è¦æäº¤çš„å®¹å™¨å æäº¤åçš„é•œåƒåï¼šæäº¤åçš„é•œåƒtagå
&gt; docker commit -m "commit message" -a "lucklcy" container_name  image_name:image_tag
</code></pre>

<h3 id="å°†é•œåƒæ¨å…¥ä»“åº“">å°†é•œåƒæ¨å…¥ä»“åº“</h3>

<ul>
  <li>é‡æ–°å®šä¹‰æ ‡ç­¾</li>
</ul>
<pre><code class="language-dockerfile">#docker  tag  é•œåƒid  è¦æ¨å…¥ä»“åº“çš„ç”¨æˆ·å/è¦æ¨å…¥çš„ä»“åº“å:æ–°å®šä¹‰çš„tag 
&gt; docker tag image_id docker_user/docker_usedr_reposority:new_image_tag
</code></pre>
<ul>
  <li>push æ¨é€
    <pre><code class="language-dockerfile">#docker push è¦æ¨å…¥ä»“åº“çš„ç”¨æˆ·å/è¦æ¨å…¥çš„ä»“åº“å:é•œåƒæ ‡ç­¾
&gt; docker push docker_user/docker_usedr_reposority:new_image_tag
</code></pre>
    <p>1</p>
  </li>
</ul>
:ET